<!DOCTYPE html>
<!-- docs/baseof.html -->
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="icon" type="image/png" href="/img/favicon.png">
    
    
    <link rel="stylesheet" href="/css/style.css" integrity="" media="screen">
    <script src="/js/main.js" type="text/javascript"></script>
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  
    
      
      <meta name="robots" content="noindex">
    
    <title>Carvel - ytt - Load Statements</title>
  </head>

  <body id="docs">
    

<header class="in-subproject">
	<div class="wrapper">
		<a href="/"><img class="image" src="/img/logo.svg" alt="Carvel Logo" /></a>
		<ul class="desktop-links">
			<li><a href="/" >Home</a></li>
			<li class="subprojects-in-primary-nav">
				<a href="/" onclick="return false;">Projects</a>
				<ul>
					
					
					<li><a href="/ytt/" >ytt</a></li>
					
					
					<li><a href="/kbld/" >kbld</a></li>
					
					
					<li><a href="/kapp/" >kapp</a></li>
					
					
					<li><a href="/imgpkg/" >imgpkg</a></li>
					
					
					<li><a href="https://github.com/vmware-tanzu/carvel-kapp-controller" >kapp-controller</a></li>
					
					
					<li><a href="/vendir/" >vendir</a></li>
					
				</ul>
			</li>
			<li><a href="/community/" >Community</a></li>
			<li><a href="/blog/" >Blog</a></li>
			<li><a href="https://kubernetes.slack.com/archives/CH8KCCKA5"><img src="/img/slack.png" />#carvel in Kubernetes Slack</a></li>
		</ul>
		<button type="button" class="mobile" onclick="mobileNavToggle()">
			<img class="collapsed-icon" src="/img/hamburger.svg" alt="Mobile nav icon">
			<img class="expanded-icon" src="/img/close.svg" alt="Mobile nav icon">
		</button>
		<div id="mobile-menu" class="mobile-menu mobile">
			<ul class="header-links">
				<li><a href="/" >Home</a></li>
				<li>
					<a href="/">Projects</a>
					<ul>
						
						
						<li><a href="/ytt/" >ytt</a></li>
						
						
						<li><a href="/kbld/" >kbld</a></li>
						
						
						<li><a href="/kapp/" >kapp</a></li>
						
						
						<li><a href="/imgpkg/" >imgpkg</a></li>
						
						
						<li><a href="https://github.com/vmware-tanzu/carvel-kapp-controller" >kapp-controller</a></li>
						
						
						<li><a href="/vendir/" >vendir</a></li>
						
					</ul>
				</li>
				<li><a href="/community/" >Community</a></li>
				<li><a href="/blog/" >Blog</a></li>
			</ul>
			<div class="social">
				<a href="https://github.com/vmware-tanzu/carvel.dev"><img src="/img/github.svg" />GitHub</a>
				<a href="https://kubernetes.slack.com/archives/CH8KCCKA5"><img src="/img/slack.png" />#carvel in Kubernetes Slack</a>
			</div>
		</div>
	</div>
</header>



<header class="subproject-specific">
	<div class="wrapper">
		<a href="/ytt/" class="text-logo">ytt</a>
		<ul class="desktop-links">
			<li><a href="/ytt/" >ytt Overview</a></li>
			<li><a href="/ytt/docs/latest/" >Documentation</a></li>
			<li><a href="https://github.com/vmware-tanzu/carvel-ytt"><img src="/img/github.svg" />GitHub</a></li>
		</ul>
		<ul class="mobile-links mobile">
			<li><a href="/ytt/docs/latest/" >Docs</a></li>
			<li><a href="https://github.com/vmware-tanzu/carvel-ytt"><img src="/img/github.svg" />GitHub</a></li>
		</ul>
	</div>
</header>


    <main>
      <div class="wrapper dedicated-page docs clearfix">
        <div class="side-nav">
          
<div class="dropdown">
    
        <span>latest</span>
    
</div>

          
    
    <form class="d-flex align-items-center">
        <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;">
        <input type="search" class="form-control docsearch-input" id="search-input" placeholder="Search..."
                aria-label="Search for..." autocomplete="off" spellcheck="false" role="combobox"
                aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0"
                dir="auto" style="position: relative; vertical-align: top;">
        </span>
    </form>

          <nav class="navigation">
  
  
  
  
    
    
    
    

    
      <h3>Introduction</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/" >About ytt</a>
            
          </li>
        
      </ul>
    
      <h3>Techniques</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/ytt-data-values/" >Using data values</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/data-values-vs-overlays/" >Data values vs overlays</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/injecting-secrets/" >Injecting secrets</a>
            
          </li>
        
      </ul>
    
      <h3>Reference</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang/" >Language</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-annotation/" >Annotations</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/ytt-text-templating/" >Text Templating</a>
            
          </li>
        
      </ul>
    
      <h3>Built-in @ytt library</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-ytt/" >All modules</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-ytt-struct/" >Struct module</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-ytt-overlay/" >Overlay module</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-ytt-library/" >Library module</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-ytt-version/" >Version module</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-ytt-template/" >Template module</a>
            
          </li>
        
      </ul>
    
      <h3>Language</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang/" >General</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-string/" >String</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-list/" >List</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-dict/" >Dictionary</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-structs/" >Struct</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-yaml-fragment/" >YAML Fragment</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-if/" >If conditional</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-for/" >For loop</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-def/" >Function</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/lang-ref-load/" class="active">Load</a>
            
          </li>
        
      </ul>
    
      <h3>CLI configuration</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/outputs/" >Outputs</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/file-marks/" >File Marks</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/strict/" >Strict yaml</a>
            
          </li>
        
      </ul>
    
      <h3>FAQ</h3>
      <ul>
        
          <li>
            
              
              <a href="/ytt/docs/latest/faq/" >FAQ</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/ytt-vs-x/" >Why ytt vs. x?</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/security/" >Security</a>
            
          </li>
        
          <li>
            
              
              <a href="/ytt/docs/latest/known-limitations/" >Known Limitations</a>
            
          </li>
        
      </ul>
    
  
</nav>

        </div>
        <div class="docs-content text-content">
          

	


          <div class="documentation-container">
            <h1>Load Statements</h1>
            
                <aside>
                <nav id="TableOfContents">
  <ul>
    <li><a href="#terminology">Terminology</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#_ytt_lib-directory">_ytt_lib directory</a></li>
    <li><a href="#files">Files</a></li>
    <li><a href="#examples">Examples</a></li>
  </ul>
</nav>
                </aside>
            

            <h2 id="terminology">Terminology <a href="#terminology" class="section-link">¶</a></h2><ul>
<li><code>module</code>: single file; can export variables, functions, or be templated =&gt; some type of result e.g. yaml structure, or string, or None)</li>
<li><code>package</code>: single directory; contains modules</li>
<li><code>library</code>: collection of packages</li>
</ul>
<h2 id="usage">Usage <a href="#usage" class="section-link">¶</a></h2><p>Load statement allows to load functions from other modules (such as ones from <a href="/ytt/docs/latest/lang-ref-ytt/">builtin <code>ytt</code> library</a>).</p>
<ul>
<li><a href="https://github.com/google/starlark-go/blob/master/doc/spec.md#load-statements" target="_blank">load</a></li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">load(<span style="color:#d14">&#34;@ytt:overlay&#34;</span>, <span style="color:#d14">&#34;overlay&#34;</span>)                <span style="color:#998;font-style:italic"># load overlay module from builtin ytt library</span>
load(<span style="color:#d14">&#34;@ytt:overlay&#34;</span>, ov<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;overlay&#34;</span>)             <span style="color:#998;font-style:italic"># load overlay symbol under a different alias</span>
load(<span style="color:#d14">&#34;helpers.star&#34;</span>, <span style="color:#d14">&#34;func1&#34;</span>, <span style="color:#d14">&#34;func2&#34;</span>)         <span style="color:#998;font-style:italic"># load func1, func2 from Starlark file</span>
load(<span style="color:#d14">&#34;helpers.lib.yml&#34;</span>, <span style="color:#d14">&#34;func1&#34;</span>, <span style="color:#d14">&#34;func2&#34;</span>)      <span style="color:#998;font-style:italic"># load func1, func2 from YAML file</span>
load(<span style="color:#d14">&#34;helpers.lib.txt&#34;</span>, <span style="color:#d14">&#34;func1&#34;</span>, <span style="color:#d14">&#34;func2&#34;</span>)      <span style="color:#998;font-style:italic"># load func1, func2 from text file</span>
load(<span style="color:#d14">&#34;/dir/helpers.lib.yml&#34;</span>, <span style="color:#d14">&#34;func1&#34;</span>)          <span style="color:#998;font-style:italic"># load func1 from file relative to root of library</span>
load(<span style="color:#d14">&#34;sub-dir/helpers.lib.txt&#34;</span>, <span style="color:#d14">&#34;func1&#34;</span>)       <span style="color:#998;font-style:italic"># load func1 from a sub-directory</span>
load(<span style="color:#d14">&#34;@project:dir/helpers.lib.txt&#34;</span>, <span style="color:#d14">&#34;func1&#34;</span>)  <span style="color:#998;font-style:italic"># load func1 from a project located under _ytt_lib</span>
</code></pre></div><p><code>load</code> arguments are as follows:</p>
<ol>
<li>location which takes following shape <code>[@[library]:][package/]{0,n}module</code>, where,
<ul>
<li><code>library</code> could be <code>ytt</code> or local path under <code>_ytt_lib</code> directory
<ul>
<li>examples: <a href="/ytt/docs/latest/lang-ref-ytt/"><code>ytt</code></a>, <code>github.com/k14s/k8s-lib</code>, <code>common</code></li>
</ul>
</li>
<li><code>package</code> could be a directory path
<ul>
<li>examples: <code>overlay</code>, <code>regexp</code>, <code>app/</code>, <code>/app/something</code></li>
</ul>
</li>
<li><code>module</code> is a file name or predefined name (included in <code>ytt</code> library)
<ul>
<li>examples: <code>module.lib.yml</code></li>
</ul>
</li>
</ul>
</li>
<li>one or more symbols to import with optional aliases
<ul>
<li>examples: <code>func1</code>, <code>func1=&quot;as_func1&quot;</code></li>
</ul>
</li>
</ol>
<p>Files can be loaded from current or child directories. As of ytt v0.24.0, <code>/</code> package prefix can be used to load files relative to the root of the current library.</p>
<p>Note that there is a distinction between using <code>load(&quot;@project:dir/helpers.lib.txt&quot;, &quot;func1&quot;)</code> or <code>load(&quot;@project/dir:helpers.lib.txt&quot;, &quot;func1&quot;)</code>, in that, <code>:</code> signifies what ytt considers a self-contained library (i.e. is <code>dir</code> simply a package in <code>project</code> or <code>project/dir</code> a standalone library). This allows files to load other files relative to the library root.</p>
<p>To load a set of functions from a single file, you can create a <code>struct</code> that contains references to the functions. For example:
<code>funcs.star</code>:</p>
<pre><code>load(&quot;@ytt:struct&quot;, &quot;struct&quot;)

def testfunc():
  return 123
end

def otherfunc():
  return 456
end

mod = struct.make(testfunc=testfunc, otherfunc=otherfunc)
</code></pre><p><code>config.yml</code>:</p>
<pre><code>#@ load(&quot;funcs.star&quot;, &quot;mod&quot;)

result: #@ mod.testfunc()
other_result: #@ mod.otherfunc()
</code></pre><h2 id="_ytt_lib-directory">_ytt_lib directory <a href="#_ytt_lib-directory" class="section-link">¶</a></h2><p><code>_ytt_lib</code> directory allows to keep private dependencies from consumers of libraries.</p>
<p>For example given following directory structure:</p>
<pre><code>app1.yml
_ytt_lib/big-corp/sre.lib.yml
_ytt_lib/big-corp/_ytt_lib/big-corp/common/deployments.lib.yml
_ytt_lib/big-corp/_ytt_lib/big-corp/common/services.lib.yml
</code></pre><ul>
<li><code>app1.yml</code> <em>can</em> load <code>big-corp/sre.lib.yml</code> via <code>@big-corp:sre.lib.yml</code></li>
<li><code>app1.yml</code> <em>cannot</em> load <code>big-corp/_ytt_lib/big-corp/common/services.lib.yml</code> as it is a private dependency of anything inside <code>_ytt_lib/big-corp/</code> directory (e.g. <code>sre.lib.yml</code>)</li>
</ul>
<p>hence making it possible for <code>big-corp/sre.lib.yml</code> module to keep its <code>big-corp/common</code> library dependency private.</p>
<h2 id="files">Files <a href="#files" class="section-link">¶</a></h2><p>To make files available to <code>load</code> statement they have to be given to ytt CLI via <code>--file</code> (<code>-f</code>) option. The argument of that option can be a path to either of:</p>
<ul>
<li>a <strong>file</strong>: in which case the file can be loaded by its name.</li>
<li>a <strong>directory</strong>: in which case all the files found can be loaded by using paths relative to the directory. If the directory contains a <code>_ytt_lib</code> folder, then libraries in it can also be loaded.</li>
</ul>
<p>For example, given following directory structure:</p>
<pre><code>app1.yml
helpers.lib.yml
_ytt_lib/apps/apps.lib.yml
sub-dir/more-helpers.lib.yml
sub-dir/_ytt_lib/weird-lib/funcs.lib.yml
</code></pre><ul>
<li><code>ytt -f .</code> will make it possible for <code>app1.yml</code> to load:
<ul>
<li><code>helpers.lib.yml</code></li>
<li><code>@apps:apps.lib.yml</code></li>
<li><code>sub-dir/more-helpers.lib.yml</code></li>
</ul>
</li>
<li><code>ytt -f helpers.lib.yml -f sub-dir -f app1.yml</code> will make it possible for <code>app1.yml</code> to load:
<ul>
<li><code>helpers.lib.yml</code></li>
<li><code>more-helpers.lib.yml</code> (not <code>sub-dir/more-helpers.lib.yml</code>)</li>
<li><code>@weird-lib:funcs.lib.yml</code></li>
</ul>
</li>
</ul>
<h2 id="examples">Examples <a href="#examples" class="section-link">¶</a></h2><ul>
<li><a href="/ytt/#example:example-load">Load</a></li>
<li><a href="/ytt/#example:example-load-ytt-library">Load ytt library</a></li>
<li><a href="/ytt/#example:example-load-custom-library">Load custom library</a></li>
</ul>

          </div>
        </div>
      </div>
    </main>
    <footer>
	<div class="wrapper footer-links">
		<div class="clearfix">
			<ul class="left-links">
				<li><a href="https://twitter.com/carvel_dev"><img src="/img/twitter.png" />Twitter</a></li>
				<li><a href="https://github.com/vmware-tanzu/carvel.dev"><img src="/img/github.svg" />Github</a></li>
				<li><a href="https://kubernetes.slack.com/archives/CH8KCCKA5">
					<img src="/img/slack.png" />
					<span class="desktop">#carvel in Kubernetes Slack</span>
					<span class="mobile">Slack</span>
				</a></li>
			</ul>
			<div class="right-links">
				<a href="/"> <img src="/img/logo.svg" /></a>
			</div>
		</div>
		<div class="bottom-links">
			<p class="copywrite">&copy; 2021 Carvel Authors. <a href="http://vmware.github.io/">A VMware-backed project. <img src="/img/vm-logo.svg" /></a></p>
		</div>
	</div>
</footer>

    
    
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
      <script type="text/javascript">
        docsearch({
          apiKey: '582b1408d7a3fe145c0f84f48ca03755',
          indexName: 'carvel',
          inputSelector: '.docsearch-input',
          algoliaOptions: {'facetFilters': ["tags:ytt"], hitsPerPage: 9},
          debug: false 
        });
      </script>
    
  </body>
</html>
